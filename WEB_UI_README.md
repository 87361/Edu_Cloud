# PyWebIO 个人主页界面使用说明

## 概述

本项目使用 PyWebIO 实现了云邮教学空间的个人主页界面，复现了图片中的界面布局和功能。

## 安装依赖

```bash
# 安装项目依赖（包括pywebio）
uv sync

# 或者单独安装pywebio
uv pip install pywebio requests
```

## 启动方式

### 方式一：分别启动（推荐用于开发）

1. **启动 Flask API 服务器**（终端1）：
```bash
uv run python main.py
```
Flask API 将在 http://localhost:5000 运行

2. **启动 PyWebIO 界面服务器**（终端2）：
```bash
uv run python web_ui.py
```
PyWebIO 界面将在 http://localhost:8080 运行

### 方式二：使用启动脚本（一键启动）

```bash
uv run python start_web.py
```

这将同时启动 Flask API 和 PyWebIO 界面。

## 使用说明

1. **访问界面**：在浏览器中打开 http://localhost:8080

2. **登录**：
   - 如果未登录，会显示登录页面
   - 输入用户名和密码进行登录
   - 登录成功后自动跳转到个人主页

3. **浏览界面**：
   - 查看用户信息和统计
   - 浏览本学期课程（使用分页按钮切换页面）
   - 查看待办事项（使用分页按钮切换页面）

## 数据说明

### 当前数据来源

- **如果 Flask API 可用**：界面会尝试从 API 获取真实数据
  - `/api/user/me` - 获取用户信息
  - `/api/course/current-semester` - 获取本学期课程
  - `/api/todo/` - 获取待办事项

- **如果 API 不可用**：界面会使用内置的模拟数据
  - 6门示例课程
  - 8个示例待办事项

### 模拟数据示例

**课程示例**：
- 形势与政策5（田凤娟，马克思主义学院）
- 外国文学鉴赏（于奎战，人文学院）
- Python程序设计（谢坤，计算机学院）

**待办示例**：
- 课程调查问卷（2026-01-09 23:59截止）
- 小组实验（2025-12-28 23:59截止）
- 02-数字练习（2025-12-26 23:59截止）

## 界面布局

界面采用响应式布局，主要分为三个部分：

1. **顶部导航栏**（固定高度，全宽）
2. **左侧导航栏**（固定宽度200px，全高）
3. **主内容区**（自适应宽度，包含所有内容卡片）

## 技术实现

- **前端框架**：PyWebIO
- **后端API**：Flask RESTful API
- **数据获取**：requests 库调用 Flask API
- **状态管理**：使用 session_data 字典存储会话状态
- **分页功能**：通过回调函数实现动态分页

## 注意事项

1. **API 连接**：确保 Flask API 服务器正在运行，否则界面将使用模拟数据
2. **端口冲突**：如果 5000 或 8080 端口被占用，需要修改相应的端口配置
3. **浏览器兼容性**：建议使用现代浏览器（Chrome、Firefox、Edge等）

## 后续开发建议

1. **完善API集成**：实现课程和待办事项的完整API端点
2. **添加交互功能**：
   - 点击课程卡片跳转到课程详情页
   - 点击待办事项标记为完成
   - 实现邮箱绑定功能
3. **优化界面**：
   - 添加加载动画
   - 优化移动端显示
   - 添加更多交互效果
4. **实现其他页面**：
   - 我的课堂页面
   - 课程详情页面
   - 作业提交页面

## 故障排除

### 问题：无法连接到API

**解决方案**：
- 检查 Flask API 是否正在运行
- 检查 API_BASE_URL 配置是否正确
- 查看浏览器控制台的网络请求错误

### 问题：界面显示异常

**解决方案**：
- 清除浏览器缓存
- 检查 PyWebIO 版本是否正确安装
- 查看终端中的错误信息

### 问题：分页功能不工作

**解决方案**：
- 确保使用最新版本的代码
- 检查浏览器控制台是否有JavaScript错误

## 联系与支持

如有问题或建议，请通过以下方式联系：
- 项目 Issues: [GitHub Issues](https://github.com/87361/Edu_Cloud/issues)
- 邮箱: 1316757358@qq.com

